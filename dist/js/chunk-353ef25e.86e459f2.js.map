{"version":3,"sources":["webpack:///./src/views/order/details.vue?613e","webpack:///./src/views/order/details.vue","webpack:///src/views/order/details.vue","webpack:///./src/views/order/details.vue?dda5","webpack:///./src/views/order/details.vue?c08d"],"names":["render","_vm","this","_c","_self","staticClass","attrs","$check_action","_v","_s","state","contact_name","contact_phone","contact_address","_l","list","obj","idx","key","staticStyle","$fullUrl","img","title","price","num","sum_price","on","$event","goto_pay","_e","order_number","_f","create_time","staticRenderFns","mixins","data","oauth","signIn","user_group","url_get_list","field","query","methods","get_list_after","json","computed","component"],"mappings":"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","file":"js/chunk-353ef25e.86e459f2.js","sourcesContent":["export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./details.vue?vue&type=style&index=0&id=739d4cc1&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"page_order\",attrs:{\"id\":\"order_details\"}},[_c('div',{staticClass:\"warp\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card_order\"},[(_vm.$check_action('/order/details', 'get'))?_c('div',[_c('div',{staticClass:\"state\"},[_vm._v(\" \"+_vm._s(_vm.state)+\" \")]),_c('div',{staticClass:\"contact_info\"},[_c('div',{staticClass:\"line_1\"},[_c('b-icon',{staticClass:\"icon_address\",attrs:{\"icon\":\"geo-alt\"}}),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.contact_name))]),_c('span',{staticClass:\"phone\"},[_vm._v(\" \"+_vm._s(_vm.contact_phone))])],1),_c('span',{staticClass:\"line_2\"},[_vm._v(_vm._s(_vm.contact_address))])]),_vm._l((_vm.list),function(obj,idx){return _c('div',{key:idx,staticClass:\"goods_list\"},[_c('div',{staticClass:\"item_goods flex_sbc\"},[_c('div',{staticClass:\"img_block\"},[_c('img',{staticStyle:{\"width\":\"4.5rem\",\"height\":\"4.5rem\"},attrs:{\"src\":_vm.$fullUrl(obj.img),\"mode\":\"scaleToFill\"}})]),_c('div',{staticClass:\"middle_info\"},[_c('div',{staticClass:\"title ellipsis_2\"},[_vm._v(\" \"+_vm._s(obj.title)+\" \")]),_c('div',{staticClass:\"priceAndNum\"},[_c('span',{staticClass:\"price\"},[_vm._v(\" ￥\"+_vm._s(obj.price)+\" \")]),_c('span',{staticClass:\"num\"},[_vm._v(\" ×\"+_vm._s(obj.num)+\" \")])])])]),_c('div',{staticClass:\"num_info\"})])}),_c('div',{staticClass:\"sum_price flex_sbc\"},[_c('span',[_vm._v(\"需付款\")]),_c('span',{staticStyle:{\"color\":\"var(--color_red)\",\"font-weight\":\"600\"}},[_vm._v(\"￥\"+_vm._s(_vm.sum_price))])]),_c('div',{staticClass:\"btn_block\"},[(_vm.$check_action('/order/details', 'set'))?_c('div',[(_vm.state === '待付款')?_c('div',{staticClass:\"btn_trade\",on:{\"click\":function($event){return _vm.goto_pay()}}},[_vm._v(\" 去支付 \")]):_vm._e()]):_vm._e()]),_c('div',{staticClass:\"bottom_order\"},[_c('div',{staticClass:\"order_num flex_sbc\"},[_c('span',[_vm._v(\"订单编号：\")]),_c('span',[_vm._v(_vm._s(_vm.order_number))])]),_c('div',{staticClass:\"time flex_sbc\"},[_c('span',[_vm._v(\"下单时间：\")]),_c('span',[_vm._v(_vm._s(_vm._f(\"formatDate\")(_vm.create_time)))])])])],2):_vm._e()])])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page_order\" id=\"order_details\">\n    <div class=\"warp\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col\">\n            <div class=\"card_order\">\n              <!-- 订单列表 -->\n              <div v-if=\"$check_action('/order/details', 'get')\">\n                <div class=\"state\">\n                  {{ state }}\n                </div>\n                <div class=\"contact_info\">\n                  <div class=\"line_1\">\n                    <b-icon class=\"icon_address\" icon=\"geo-alt\"></b-icon>\n                    <span class=\"name\">{{ contact_name }}</span>\n                    <span class=\"phone\"> {{ contact_phone }}</span>\n                  </div>\n                  <span class=\"line_2\">{{ contact_address }}</span>\n                </div>\n                <div class=\"goods_list\" v-for=\"(obj, idx) in list\" :key=\"idx\">\n                  <div class=\"item_goods flex_sbc\">\n                    <div class=\"img_block\">\n                      <img\n                        style=\"width: 4.5rem; height: 4.5rem\"\n                        :src=\"$fullUrl(obj.img)\"\n                        mode=\"scaleToFill\"\n                      />\n                    </div>\n                    <div class=\"middle_info\">\n                      <div class=\"title ellipsis_2\">\n                        {{ obj.title }}\n                      </div>\n                      <div class=\"priceAndNum\">\n                        <span class=\"price\"> ￥{{ obj.price }} </span>\n                        <span class=\"num\"> ×{{ obj.num }} </span>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"num_info\"></div>\n                </div>\n                <div class=\"sum_price flex_sbc\">\n                  <span>需付款</span>\n                  <span style=\"color: var(--color_red); font-weight: 600\"\n                    >￥{{ sum_price }}</span\n                  >\n                </div>\n                <div class=\"btn_block\">\n                  <div v-if=\"$check_action('/order/details', 'set')\">\n                    <div\n                      class=\"btn_trade\"\n                      v-if=\"state === '待付款'\"\n                      @click=\"goto_pay()\"\n                    >\n                      去支付\n                    </div>\n                    <!--<div-->\n                      <!--v-if=\"state === '已签收' || state === '待发货'\"-->\n                      <!--class=\"btn_trade\"-->\n                      <!--@click=\"refund()\">-->\n                      <!--申请退款-->\n                    <!--</div>-->\n                    <!--<div-->\n                      <!--v-if=\"state === '待退款'\"-->\n                      <!--class=\"btn_trade\"-->\n                      <!--@click=\"cancel_refund()\">-->\n                      <!--取消退款申请-->\n                    <!--</div>-->\n                  </div>\n                </div>\n                <div class=\"bottom_order\">\n                  <div class=\"order_num flex_sbc\">\n                    <span>订单编号：</span><span>{{ order_number }}</span>\n                  </div>\n                  <div class=\"time flex_sbc\">\n                    <span>下单时间：</span><span>{{ create_time | formatDate }}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport mixin from \"@/mixins/page.js\";\n\nexport default {\n  mixins: [mixin],\n  data() {\n    return {\n      // 登录权限\n      oauth: {\n        signIn: true,\n        user_group: [],\n      },\n      url_get_list: \"~/api/order/get_list\",\n      field: \"order_number\",\n      query: {\n        order_number: \"\",\n      },\n      contact_name: \"\",\n      contact_phone: \"\",\n      contact_address: \"\",\n      order_number: \"\",\n      create_time: \"\",\n      state: \"\",\n    };\n  },\n  methods: {\n    /**\n     * 获取订单后\n     * @param {Object} json 响应对象\n     */\n    get_list_after(json) {\n      var {\n        contact_name,\n        contact_phone,\n        contact_address,\n        order_number,\n        create_time,\n        state,\n      } = json.result.list[0];\n      this.contact_name = contact_name;\n      this.contact_phone = contact_phone;\n      this.contact_address = contact_address;\n      this.order_number = order_number;\n      this.create_time = create_time;\n      this.state = state;\n      return json;\n    },\n    /**\n     * 退款\n     */\n    // refund() {\n    //   this.$post(\n    //     \"~/api/order/set?order_number=\" + this.order_number,\n    //     {\n    //       state: \"待退款\",\n    //     },\n    //     (res) => {\n    //       this.state = \"待退款\";\n    //     }\n    //   );\n    // },\n    /**\n     * 取消退款\n     */\n    // cancel_refund(){\n    //     this.$post(\n    //     \"~/api/order/set?order_number=\" + this.order_number,\n    //     {\n    //       state: \"待发货\",\n    //     },\n    //     (res) => {\n    //       this.state = \"待发货\";\n    //     }\n    //   );\n    // },\n    /**\n     * 支付\n     */\n    goto_pay() {\n      this.$router.push(\n        \"/pay/detail?\" +\n          \"order_number=\" +\n          this.order_number +\n          \"&&\" +\n          \"sum_price=\" +\n          this.sum_price\n      );\n    },\n  },\n  computed: {\n    /**\n     * 计算总价\n     */\n    sum_price() {\n      var sum_price = 0;\n      this.list.map((o) => (sum_price += o.price * o.num));\n      return sum_price;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.ellipsis_2 {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n.page_order {\n  min-height: 100vh;\n  background-color: #f8f8f8;\n}\n\n.flex_sbc {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.contact_info {\n  background-color: #fff;\n  padding: 0.3rem 1rem;\n  margin-bottom: 0.5rem;\n}\n\n.contact_info .line_1 {\n  margin-bottom: 0.2rem;\n}\n\n.contact_info .line_2 {\n  font-size: 0.9rem;\n}\n\n.contact_info .name {\n  padding-right: 1rem;\n  font-weight: 600;\n}\n\n.contact_info .phone {\n  color: var(--color_grey);\n}\n\n.state {\n  padding: 0.3rem 1rem;\n  background-color: #fff;\n  color: var(--color_primary);\n  border-bottom: 1px solid #f8f8f8;\n  font-size: 1.1rem;\n}\n\n.goods_list {\n  padding: 0.2rem 0.8rem;\n  background-color: #fff;\n}\n\n.goods_list .item_goods {\n  align-items: stretch;\n  border-bottom: 1px solid #f4f4f4;\n}\n\n.goods_list .img_block {\n  padding: 0.2rem;\n}\n\n.goods_list .middle_info {\n  width: calc(100% - 5.5rem);\n}\n\n.goods_list .title {\n  font-size: 0.9rem;\n  min-height: 1.4rem;\n}\n\n.goods_list .num_info {\n  display: flex;\n  justify-content: space-between;\n}\n\n.goods_list .price,\n.goods_list .num {\n  color: var(--color_grey);\n  font-size: 0.5rem;\n}\n\n.sum_price {\n  height: 2.5rem;\n  background-color: #ffffff;\n  padding: 0 0.8rem;\n  border-bottom: 1px solid #f4f4f4;\n}\n.btn_block {\n  padding: 0.8rem 2rem;\n  background-color: #fff;\n  border-bottom: 1px solid #f4f4f4;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.btn_trade {\n  text-align: center;\n  padding: 0.5rem 2rem;\n  border: 1px solid var(--color_grey);\n  border-radius: 4rem;\n  cursor: pointer;\n  width: 256px;\n}\n.btn_trade:hover {\n  opacity: 0.7;\n}\n.bottom_order {\n  background-color: #fff;\n  font-size: 0.8rem;\n  color: var(--color_grey);\n}\n.bottom_order > div {\n  padding: 0.6rem;\n}\n.bottom_order > div + div {\n  border-top: 1px solid #f4f4f4;\n}\n.order_num {\n  margin-bottom: 0.3rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./details.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./details.vue?vue&type=template&id=739d4cc1&scoped=true&\"\nimport script from \"./details.vue?vue&type=script&lang=js&\"\nexport * from \"./details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./details.vue?vue&type=style&index=0&id=739d4cc1&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"739d4cc1\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}