(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55713b44"],{"07ef":function(t,e,i){},"0aea":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page_goods",attrs:{id:"goods_details"}},[t.$check_action("/goods/details","get")?e("div",{staticClass:"warp"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-md-10"},[e("div",{staticClass:"pr-md-2"},[e("div",{staticClass:"card_div_goods"},[e("div_goods",{attrs:{obj:t.obj,list_img:t.list_img}})],1),e("div",{staticClass:"card_bottom_goods"},[e("div",{staticClass:"options pl-3"},[e("span",{class:{selected:1===t.selected_index},on:{click:function(e){t.selected_index=1}}},[t._v("详情")]),e("span",{class:{selected:2===t.selected_index},on:{click:function(e){t.selected_index=2}}},[t._v("评论")])]),2===t.selected_index?e("div",{staticClass:"comment_box"},[e("list_comment",{staticClass:"w-100",attrs:{list:t.list_comment,obj:t.form_comment}}),e("b-pagination-nav",{attrs:{"base-url":t.$route.path,"number-of-pages":t.count_pages,"link-gen":t.link_gen,"first-number":"","last-number":""},on:{change:t.change_page}}),e("div",{staticClass:"form_editor"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.form_comment.reply_to_id,expression:"form_comment.reply_to_id"}],staticClass:"fl ml-3"},[t._v(" 对 "),e("i",[t._v(t._s(t.respondent))]),t._v(" 回复 ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.form_comment.reply_to_id,expression:"form_comment.reply_to_id"}],staticClass:"fr mr-3"},[e("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:function(e){t.form_comment.reply_to_id=0}}},[t._v("重置回复人")])],1),e("form_editor",{staticClass:"fn",attrs:{form:t.form_comment,publish_flag:t.publish_flag},on:{update_comment:t.update_comment}})],1)],1):e("div",{staticClass:"goods_desc_box"},[t._l(t.customize_field_list(),(function(i){return e("div",{key:i,staticClass:"goods_detail_item"},[e("label",[t._v(t._s(i.field_name+" : "))]),"image"===i.type?e("span",[i.field_value?e("img",{staticStyle:{height:"150px"},attrs:{src:t.$fullUrl(i.field_value)}}):t._e()]):"video"===i.type?e("span",[i.field_value?e("router-link",{attrs:{to:"/media/video?filename="+t.$fullUrl(i.field_value)}},[e("span",[t._v(" 查看视频 ")])]):t._e()],1):"audio"===i.type?e("span",[i.field_value?e("audio",{staticStyle:{"text-align":"left"},attrs:{src:t.$fullUrl(i.field_value),controls:""}}):t._e()]):"file"===i.type?e("span",[i.field_value?e("a",{staticStyle:{color:"rgb(64, 158, 255)"},attrs:{href:t.$fullUrl(i.field_value),target:"_blank"}},[t._v("点击下载")]):t._e()]):"date"===i.type?e("span",[t._v(" "+t._s(t.$toTime(i.field_value,"yyyy-MM-dd"))+" ")]):"time"===i.type?e("span",[t._v(" "+t._s(t.$toTime(i.field_value,"hh:mm:ss"))+" ")]):"datetime"===i.type?e("span",[t._v(" "+t._s(t.$toTime(i.field_value,"yyyy-MM-dd hh:mm:ss"))+" ")]):e("span",[t._v(t._s(i.field_value))])])})),e("div",{staticClass:"goods_detail_editor",domProps:{innerHTML:t._s(t.obj.content)}})],2)])])]),e("div",{staticClass:"col-12 col-md-2"},[e("div",{staticClass:"card_aside"},[e("h5",[t._v("今日推荐")]),e("list_goods_hot",{attrs:{list:t.list_hot}})],1)])])])]):t._e()])},o=[],a=i("c6e7"),r=i("958b"),c=i("0ff7"),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"div_goods container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-md-6"},[e("div",{staticClass:"card_img pl-1 pr-1 pl-md-0 pr-md-2"},[e("div",{staticClass:"figure"},[e("div",{staticClass:"swiper-container"},[e("div",{staticClass:"swiper-wrapper"},t._l(t.list_img,(function(i,s){return e("div",{key:s,staticClass:"swiper-slide"},[e("img",{directives:[{name:"default-img",rawName:"v-default-img",value:"/img/default.png",expression:"'/img/default.png'"}],staticClass:"main_img",attrs:{src:t.$fullUrl(i)}})])})),0)])]),e("div",{staticClass:"list_sm_img"},t._l(t.list_img,(function(i,s){return e("div",{key:s,staticClass:"item"},[e("div",{class:["sm_figure",t.currentNum==s?"little_goodspic_act":""],on:{click:function(e){return t.choose_img(i,s)}}},[e("img",{staticStyle:{width:"100%","max-height":"100%"},attrs:{src:t.$fullUrl(i),"box-shadow":""}})])])})),0)])]),e("div",{staticClass:"col-12 col-md-6"},[e("div",{staticClass:"card_goods_info"},[e("div",[e("span",{staticClass:"goods_name"},[t._v(t._s(t.obj.title))]),e("div",{staticClass:"description"},[t._v(t._s(t.obj.description))])]),e("div",[e("div",{staticClass:"price_block"},[e("div",{staticClass:"price_item"},[e("span",{staticClass:"price"},[t._v("￥"+t._s(t.obj.price))]),e("span",{staticClass:"price_ago"},[t._v("￥"+t._s(t.obj.price_ago))])]),e("score_star",{attrs:{score:t.score}})],1),e("div",{staticClass:"bottom_handle"},[e("div",{staticClass:"num_buy_block"},[e("div",{staticClass:"subtract",on:{click:function(e){return t.sub_num(t.obj)}}},[e("span",[t._v("-")])]),e("div",{staticClass:"num"},[t._v(" "+t._s(t.obj.num_buy)+" ")]),e("div",{staticClass:"add",on:{click:function(e){return t.add_num(t.obj)}}},[e("span",[t._v("+")])])]),!t.user.user_id||t.obj.source_table&&!t.$check_cart_page("/"+t.obj.source_table+"/details")?t._e():e("div",{staticClass:"buy",on:{click:function(e){return t.add_order()}}},[t._v(" 立即购买 ")]),!t.user.user_id||t.obj.source_table&&!t.$check_cart_page("/"+t.obj.source_table+"/details")?t._e():e("div",{staticClass:"cart",on:{click:function(e){return t.add_cart()}}},[e("b-icon",{attrs:{icon:"cart"}})],1),t.user.user_id?e("div",{staticClass:"collect",on:{click:function(e){return t.add_collect()}}},[t.check_collected?e("b-icon",{staticStyle:{color:"var(--color_primary)"},attrs:{icon:"heart-fill"}}):e("b-icon",{attrs:{icon:"heart"}})],1):e("div",{staticClass:"collect",on:{click:function(e){return t.$router.push("/account/login")}}},[t.check_collected?e("b-icon",{staticStyle:{color:"var(--color_primary)"},attrs:{icon:"heart-fill"}}):e("b-icon",{attrs:{icon:"heart"}})],1)])])])])])])},n=[],d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"score_star"},t._l(5,(function(i){return e("span",{key:i,staticClass:"icon_wrap"},[t.score>=i?e("b-icon",{attrs:{icon:"star-fill"}}):Math.ceil(t.score)===i?e("b-icon",{attrs:{icon:"star-half"}}):e("b-icon",{attrs:{icon:"star"}})],1)})),0)},m=[],u={props:{score:{type:Number,default(){return 0}}},data(){return{}},methods:{},components:{}},_=u,h=(i("2971"),i("0b56")),g=Object(h["a"])(_,d,m,!1,null,"348a2ea3",null),p=g.exports,f=i("6265"),v=function(){var t=this,e=t._self._c;return e("div",{ref:t.id,staticClass:"magnifier-box",class:t.vertical?"vertical":"",on:{mousemove:t.mousemove,mouseover:t.mouseover,mouseleave:t.mouseleave}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.showImg,expression:"showImg"}],attrs:{src:t.imgUrl,alt:""}}),e("div",{staticClass:"mouse-cover"}),t.showEidt?e("div",{staticClass:"edit-wrap"},[e("span",{staticClass:"rotate-left",on:{click:function(e){return t.rotate("left")}}}),e("span",{staticClass:"rotate-right",on:{click:function(e){return t.rotate("right")}}})]):t._e()])},b=[],y={props:{scale:{type:Number,default:2.5},url:{type:String,required:!0},bigUrl:{type:String,default:null},scroll:{type:Boolean,default:!1},showEidt:{type:Boolean,default:!1}},data(){return{id:null,cover:null,imgbox:null,imgwrap:null,orginUrl:null,bigImgUrl:null,bigOrginUrl:null,imgUrl:null,img:null,canvas:null,ctx:null,rectTimesX:0,rectTimesY:0,imgTimesX:0,imgTimesY:0,init:!1,step:0,bigStep:0,vertical:!1,showImg:!0}},created(){var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",e=t.length,i="";for(let s=0;s<10;s++)i+=t.charAt(Math.floor(Math.random()*e));this.id=i,this.imgUrl=this.url,this.orginUrl=this.url,this.bigImgUrl=this.bigUrl,this.bigOrginUrl=this.bigUrl},watch:{url:function(t){this.imgUrl=t,this.orginUrl=t,this.initTime()},bigUrl:function(){this.bigImgUrl=bigUrl,this.bigOrginUrl=bigUrl,this.initTime()}},mounted(){this.$nextTick(()=>{this.initTime()})},methods:{initTime(){this.init=!1;let t,e=this.$refs[this.id];this.imgbox=e,this.cover=e.querySelector(".mouse-cover"),this.cover.style.width=this.imgbox.offsetWidth/this.scale+"px",this.cover.style.height=this.imgbox.offsetHeight/this.scale+"px",this.cover.style.left="-100%",this.cover.style.top="-100%",this.imgwrap=e.querySelector("img"),t=this.bigImgUrl?this.bigImgUrl:this.imgUrl,this.img=new Image,this.img.src=t,this.img.onload=()=>{this.rectTimesX=this.imgbox.offsetWidth/this.scale/this.imgwrap.offsetWidth,this.rectTimesY=this.imgbox.offsetHeight/this.scale/this.imgwrap.offsetHeight,this.imgTimesX=this.img.width/this.imgwrap.offsetWidth,this.imgTimesY=this.img.height/this.imgwrap.offsetHeight,this.vertical=this.img.width<this.img.height,this.init=!0},this.canvas&&(this.canvas.parentNode.removeChild(this.canvas),this.canvas=null),this.canvas=document.createElement("canvas"),this.canvas.className="mouse-cover-canvas",this.canvas.style.position="absolute",this.canvas.style.left=this.imgbox.offsetLeft+this.imgbox.offsetWidth+10+"px",this.canvas.style.top=this.imgbox.offsetTop+"px",this.canvas.style.border="1px solid #eee",this.canvas.style.zIndex="99999",this.canvas.height=this.imgbox.offsetHeight,this.canvas.width=this.imgbox.offsetWidth,this.canvas.style.display="none",document.body.append(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},initBox(){this.showImg=!1,this.canvas.style.display="none";let t,e=this.$refs[this.id];t=this.bigImgUrl?this.bigImgUrl:this.imgUrl,this.img=new Image,this.img.src=t,this.img.onload=()=>{this.vertical=this.img.width<this.img.height,this.showImg=!0;e.querySelector("img");setTimeout(()=>{this.rectTimesX=this.imgbox.offsetWidth/this.scale/e.querySelector("img").offsetWidth,this.rectTimesY=this.imgbox.offsetHeight/this.scale/e.querySelector("img").offsetHeight},20)}},mousemove(t){if(!this.init)return!1;let e=this;function i(t){var e=null,i=null,s=t.offsetParent;e+=t.offsetLeft,i+=t.offsetTop;while(s)-1===navigator.userAgent.indexOf("MSIE 8.0")&&(e+=s.clientLeft,i+=s.clientTop),e+=s.offsetLeft,i+=s.offsetTop,s=s.offsetParent;return{left:e,top:i}}function s(t){return{x:t.clientX-e.cover.offsetWidth/2,y:t.clientY-e.cover.offsetHeight/2}}let o=t||event,a=s(o),r=i(this.imgwrap),c={minX:r.left,maxX:r.left+this.imgwrap.offsetWidth-this.cover.offsetWidth,minY:r.top-document.documentElement.scrollTop,maxY:r.top-document.documentElement.scrollTop+this.imgwrap.offsetHeight-this.cover.offsetHeight};a.x>c.maxX&&(a.x=c.maxX),a.x<c.minX&&(a.x=c.minX),a.y>c.maxY&&(a.y=c.maxY),a.y<c.minY&&(a.y=c.minY),this.cover.style.left=a.x+"px",this.cover.style.top=a.y+"px",this.ctx.clearRect(0,0,this.imgwrap.offsetWidth,this.imgwrap.offsetHeight);let l=a.x-(r.left-document.documentElement.scrollLeft),n=a.y-(r.top-document.documentElement.scrollTop);this.ctx.drawImage(this.img,l*this.imgTimesX,n*this.imgTimesY,this.img.width*this.rectTimesX,this.img.height*this.rectTimesY,0,0,this.imgbox.offsetWidth,this.imgbox.offsetHeight)},mouseover(t){if(!this.init)return!1;t=t||event,this.scroll||(t.currentTarget.addEventListener("mousewheel",(function(t){t.preventDefault()}),!1),t.currentTarget.addEventListener("DOMMouseScroll",(function(t){t.preventDefault()}),!1)),this.cover.style.display="block",this.canvas.style.display="block"},mouseleave(){if(!this.init)return!1;this.cover.style.display="none",this.canvas.style.display="none"},rotate(t){var e=new Image;if(e.crossOrigin="Anonymous",e.src=this.orginUrl,e.onload=()=>{this.rotateImg(e,t,this.step)},this.bigOrginUrl){var i=new Image;e.crossOrigin="Anonymous",i.src=this.bigOrginUrl,i.onload=()=>{this.rotateImg(i,t,this.bigStep,!0)}}},rotateImg(t,e,i,s=!1){var o=0,a=3;if(null!=t){var r=t.height,c=t.width;null==i&&(i=o),"right"==e?(i++,i>a&&(i=o)):(i--,i<o&&(i=a));var l=document.createElement("canvas"),n=90*i*Math.PI/180,d=l.getContext("2d");switch(l.width=r,l.height=c,d.rotate(n),d.drawImage(t,0,-r),i){case 0:l.width=c,l.height=r,d.drawImage(t,0,0);break;case 1:l.width=r,l.height=c,d.rotate(n),d.drawImage(t,0,-r);break;case 2:l.width=c,l.height=r,d.rotate(n),d.drawImage(t,-c,-r);break;case 3:l.width=r,l.height=c,d.rotate(n),d.drawImage(t,-c,0);break}var m=l.toDataURL();s?(this.bigImgUrl=m,this.bigStep=i,this.initBox()):(this.imgUrl=m,this.step=i,this.$nextTick(()=>{this.initBox()}))}}}},C=y,w=(i("0d66"),Object(h["a"])(C,v,b,!1,null,"ac452f80",null)),x=w.exports;let k;var j={mixins:[f["a"]],props:{obj:{type:Object,default:function(){return{}}},vm:{type:Object,default:function(){return{goods_id:"goods_id",title:"title",img:"img",description:"description",price_ago:"price_ago",price:"price",sales:"sales",inventory:"inventory",type:"type",hits:"hits",content:"content",create_time:"create_time",update_time:"update_time",img_1:"img_1",img_2:"img_2",img_3:"img_3",img_4:"img_4",img_5:"img_5",source_table:"source_table"}}},list_img:{type:Array,default(){return[]}}},components:{score_star:p,PicZoom:x},data(){return{img_lg:"",currentNum:0,swiper_img2:["https://dcdn.yuyuebus.com/front/img/buychoose.png","https://dcdn.yuyuebus.com/front/img/buychoosenone.png","https://dcdn.yuyuebus.com/front/img/buylocation.png","https://dzgj.yuyuebus.com/static/front/dist/static/img/icon-question.png","https://dcdn.yuyuebus.com/front/img/buychoose.png"],score:4.5,img_show:!1,check_collected:!1,address_promise:{}}},methods:{choose_img(t,e){this.img_lg=t,this.currentNum=e,k.slideTo(e+1,1e3,!0)},sub_num(t){t.num_buy>1&&t.num_buy--},add_num(t){t.num_buy++},order_code(){for(var t="",e=0;e<6;e++)t+=Math.floor(10*Math.random());return t=(new Date).getTime()+t,t},async add_order(){if(this.obj.num_buy>this.obj.inventory)this.$toast("库存不足");else{var{title:t,img:e,price:i,price_ago:s,description:o,goods_id:a,type:r,num_buy:c}=this.obj,l=this.user.user_id;new Promise((n,d)=>{this.$get("~/api/address/get_obj?",{user_id:l,default:1},n=>{if(n.result){console.log(n.result);var d=this.order_code(),m={order_number:d,goods_id:a,type:r,num:c,title:t,img:e,price:i,price_ago:s,price_count:i*c,contact_name:n.result.obj.name,contact_phone:n.result.obj.phone,contact_address:n.result.obj.address,postal_code:n.result.obj.postcode,user_id:l,description:o};this.$post("~/api/order/add?",m,t=>{console.log(t),this.$toast("加入订单成功"),this.$router.push("/order/details?order_number="+d)})}else this.$toast("地址未添加")})})}},add_cart(){var{title:t,img:e,price:i,price_ago:s,num_buy:o,description:a,goods_id:r,type:c}=this.obj,l={title:t,img:e,price:i,price_ago:s,num:o,price_count:i*o,description:a,goods_id:r,type:c,user_id:this.$store.state.user.user_id};this.$get("~/api/cart/get_list?",{goods_id:this.obj.goods_id,user_id:this.$store.state.user.user_id},t=>{if(console.log(t),t.result.count){var{cart_id:e,num:i,price:s,price_count:o}=t.result.list[0];i+=1,o+=s,this.$post("~/api/cart/set?cart_id="+e,{num:i,price:s,price_count:o},t=>{this.$toast("已加入购物车","成功"),console.log("更改值")})}else this.$post("~/api/cart/add?",l,t=>{this.$toast("已加入购物车","成功")})})},add_collect(){var{title:t,img:e,goods_id:i}=this.obj,s={title:t,img:e,source_table:"goods",source_field:"goods_id",source_id:i,user_id:this.$store.state.user.user_id};this.check_collected?(this.check_collected=!1,console.log(s),this.$get("~/api/collect/del?",{user_id:this.$store.state.user.user_id,source_id:i},t=>{this.$toast("取消收藏")})):(this.check_collected=!0,this.$post("~/api/collect/add?",s,t=>{this.$toast("收藏成功")}))},check_collect(){var t=this.$store.state.user.user_id,e=this.obj.goods_id;this.$get("~/api/collect/count?",{user_id:t,source_field:"goods_id",source_id:e},t=>{this.check_collected=t.result})},getScreen(){let t=document.documentElement.clientWidth||document.body.clientHeight;this.img_show=t>=960}},mounted(){setTimeout(()=>{let t=this;k=new Swiper(".swiper-container",{loop:!0,diraction:"horizontal",notNextTick:!0,autoplay:!1,onSlideChangeEnd:function(e){t.currentNum=e.realIndex}}),this.check_collect()},1e3)}},$=j,T=(i("fe20"),Object(h["a"])($,l,n,!1,null,"0573d7fc",null)),U=T.exports,I=i("56c9"),S={mixins:[a["a"]],components:{list_comment:c["a"],list_goods_hot:r["a"],div_goods:U,form_editor:I["a"]},data(){return{url_get_obj:"~/api/goods/get_obj?",query:{goods_id:0},list_comment:[],list_hot:[],selected_index:2,form_comment:{source_table:"goods",source_field:"goods_id",source_id:0,reply_to_id:0,content:""},count_pages:1,seted_count_pages:!0,obj:{goods_id:0,title:"",img:"",description:"",price_ago:0,price:0,sales:0,inventory:0,type:"",hits:0,content:"",create_time:"2021-02-20 20:48:07",update_time:"2021-03-30 17:48:07",img_1:"",img_2:"",img_3:"",img_4:"",img_5:"",source_table:"",source_field:"",source_id:0,num_buy:1,customize_field:"",user_id:0},publish_flag:!1}},methods:{get_obj_after(t){var e=t.result.obj;this.get_comment(e),e.num_buy=1,this.form_comment.source_id=e.goods_id,this.$get("~/api/order/get_obj?",{goods_id:e.goods_id,user_id:this.$store.state.user.user_id,state:"已付款"},t=>{t.result&&t.result.obj&&(this.publish_flag=!0)})},get_hot_goods(){this.$get("~/api/goods/get_list",{page:1,size:5,orderby:"hits"},t=>{t.result&&(this.list_hot=t.result.list)})},update_comment(){this.get_comment(this.obj)},get_comment(t,e=1,i=5){this.$get("~/api/comment/get_list?",{source_table:"goods",source_field:"goods_id",source_id:t.goods_id,page:e,size:i,orderby:"create_time desc",reply_to_id:"0"},t=>{if(t.result){var e=t.result.list;e.map(t=>{t.list_reply=[]}),this.add_reply(e).then(t=>{this.list_comment=t}),this.seted_count_pages&&(this.seted_count_pages=!1,this.count_pages=Math.ceil(t.result.count/i))}})},add_reply(t){return new Promise(e=>{for(let i=0;i<t.length;i++){const e=t[i];this.$get("~/api/comment/get_list?",{source_table:"goods",source_field:"goods_id",source_id:e.goods_id,orderby:"create_time desc",reply_to_id:e.comment_id},t=>{t.result&&(e.list_reply=t.result.list)})}e(t)})},link_gen(t){return{query:this.query}},change_page(t){this.get_comment(this.obj,t),this.form_comment.reply_to_id=0},customize_field_list:function(){if(this.obj.customize_field){let t=JSON.parse(this.obj.customize_field);return t}return[]}},computed:{list_img(){var{img_1:t,img_2:e,img_3:i,img_4:s}=this.obj,o=[];return t&&o.push(t),e&&o.push(e),i&&o.push(i),s&&o.push(s),o},respondent(){var t=this.form_comment.reply_to_id,e="";return this.list_comment.map(i=>{i.comment_id===t&&(e=i.nickname)}),e}},mounted(){this.get_hot_goods()}},O=S,M=(i("2536"),Object(h["a"])(O,s,o,!1,null,"4ea3b83a",null));e["default"]=M.exports},"0d66":function(t,e,i){"use strict";i("999d")},"0ff7":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"list_comment"},t._l(t.list,(function(i,s){return e("div",{key:s,staticClass:"item_comment_box"},[e("div",{staticClass:"comment"},[e("div",{staticClass:"left_block"},[e("img",{directives:[{name:"default-img",rawName:"v-default-img",value:"/img/default.png",expression:"'/img/default.png'"}],staticStyle:{width:"4rem",height:"4rem"},attrs:{src:t.$fullUrl(i[t.vm.avatar])}})]),e("div",{staticClass:"right_block"},[e("div",{staticClass:"top_comment"},[e("div",{staticClass:"nickname"},[t._v(t._s(i[t.vm.nickname]))]),e("div",{staticClass:"time_block"},[e("div",{staticClass:"time"},[t._v(" "+t._s(t._f("formatDate")(i[t.vm.create_time]))+" ")])])]),e("div",{staticClass:"content",domProps:{innerHTML:t._s(i[t.vm.content])}}),Object.keys(t.obj).length?e("div",{staticClass:"comment_reply"},[e("b-button",{attrs:{variant:"outline"},on:{click:function(e){return t.reply_to_sb(i)}}},[t._v("回复")])],1):t._e()])]),i.list_reply?e("div",{staticClass:"list_reply ml-5"},t._l(i.list_reply,(function(i,s){return e("div",{key:s,staticClass:"mb"},[e("div",{staticClass:"fl"},[e("span",{staticClass:"nickname"},[t._v(t._s(i[t.vm.nickname]))])]),e("div",{staticClass:"fr"},[e("span",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(i[t.vm.create_time])))])]),e("div",{staticClass:"ml-5",domProps:{innerHTML:t._s(i[t.vm.content])}})])})),0):t._e()])})),0)},o=[],a=i("c6e7"),r={mixins:[a["a"]],props:{list:{type:Array,default:function(){return[]}},obj:{type:Object,default:function(){return{}}},vm:{type:Object,default:function(){return{avatar:"avatar",nickname:"nickname",content:"content",create_time:"create_time"}}}},data(){return{text:""}},methods:{reply_to_sb(t){this.obj.reply_to_id=t.comment_id}},components:{}},c=r,l=(i("5ca9"),i("0b56")),n=Object(l["a"])(c,s,o,!1,null,"1e098a4e",null);e["a"]=n.exports},2536:function(t,e,i){"use strict";i("07ef")},2971:function(t,e,i){"use strict";i("f0c85")},"4e24":function(t,e,i){},"56c9":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return t.publish_flag?e("div",{staticClass:"form_editor"},[e("div",{staticClass:"editor"},[e("quill-editor",{staticClass:"form_editor_block",model:{value:t.form.content,callback:function(e){t.$set(t.form,"content","string"===typeof e?e.trim():e)},expression:"form.content"}})],1),e("div",{staticClass:"btn_publish"},[e("b-button",{attrs:{variant:"outline-primary",block:""},on:{click:function(e){return t.publish()}}},[t._v("发表")])],1)]):t._e()},o=[],a=i("6265"),r={mixins:[a["a"]],props:{form:{type:Object,default(){return{content:""}}},post_url:{type:String,default(){return""}},publish_flag:{type:Boolean,default(){return!0}}},data(){return{}},methods:{publish(){if(this.user.user_id){var t=this.form;if(t=Object.assign(t,{user_id:this.user.user_id,avatar:this.user.avatar,nickname:this.user.nickname}),t.content){var e=this.post_url;e||(e="~/api/comment/add?"),this.$post(e,t,t=>{t.result?(this.$emit("update_comment"),this.form.content=""):t.error&&this.$toast(t.error.message)})}else this.$toast("输入内容不能为空")}else this.$router.push("/account/login")}},components:{}},c=r,l=(i("594d"),i("0b56")),n=Object(l["a"])(c,s,o,!1,null,"0c92ffb8",null);e["a"]=n.exports},"594d":function(t,e,i){"use strict";i("b1fc")},"5ca9":function(t,e,i){"use strict";i("af73")},"958b":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"list_goods_hot"},[e("div",{staticClass:"card_goods_list list list-x"},t._l(t.list,(function(i,s){return e("div",{key:s,staticClass:"goods"},[e("router-link",{staticClass:"goods_nav",attrs:{to:{path:"/goods/details",query:{goods_id:i[t.vm.goods_id]}}}},[e("div",{staticClass:"media"},[e("img",{directives:[{name:"default-img",rawName:"v-default-img",value:"/img/default.png",expression:"'/img/default.png'"}],attrs:{src:i[t.vm.img]?t.$fullUrl(i[t.vm.img]):"/img/default.png",alt:"图片丢失"}})]),e("div",{staticClass:"good_bottom"},[e("div",{staticClass:"title"},[t._v(t._s(i[t.vm.title]))]),e("div",{staticClass:"price_block"},[e("span",{staticClass:"price"},[t._v("￥"+t._s(i[t.vm.price]))]),e("span",{staticClass:"price_ago"},[t._v("￥"+t._s(i[t.vm.price_ago]))])])])])],1)})),0)])},o=[],a={props:{url:{type:String,default:"/pages/goods/details?goods_id="},list:{type:Array,default:function(){return[]}},vm:{type:Object,default:function(){return{goods_id:"goods_id",img:"img",title:"title",price:"price",price_ago:"price_ago"}}},span:{type:Number,default:2}},data(){var t=12/this.span;return{col:t}},methods:{},components:{}},r=a,c=(i("a89c"),i("0b56")),l=Object(c["a"])(r,s,o,!1,null,"1dd9891b",null);e["a"]=l.exports},"999d":function(t,e,i){},a89c:function(t,e,i){"use strict";i("d432")},af73:function(t,e,i){},b1fc:function(t,e,i){},d432:function(t,e,i){},f0c85:function(t,e,i){},fe20:function(t,e,i){"use strict";i("4e24")}}]);
//# sourceMappingURL=chunk-55713b44.4cc0f195.js.map